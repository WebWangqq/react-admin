{"version":3,"sources":["pages/user/add-form.jsx"],"names":["Item","layout","labelCol","span","wrapperCol","AddForm","state","visible","addOpration","userInfo","loadInfo","console","log","setState","Object","assign","refs","formRef","setFieldsValue","resetFields","handleOk","validateFields","then","values","data","props","loadMore","catch","handleCancel","e","this","title","centered","onOk","onCancel","okText","cancelText","ref","initialValues","label","name","rules","required","message","React","Component"],"mappings":"2OAGMA,EAAO,IAAKA,KACZC,EAAS,CACbC,SAAU,CAAEC,KAAM,GAClBC,WAAY,CAAED,KAAM,KAGhBE,E,4MAIJC,MAAQ,CACNC,SAAS,EACTC,aAAa,EACbC,SAAU,I,EAEZC,SAAW,SAACF,EAAaC,GACvBE,QAAQC,IAAR,gBACA,EAAKC,SAAS,CACZN,SAAS,EACTC,cACAC,SAAUK,OAAOC,OAAO,GAAIN,KAC3B,WACG,EAAKO,KAAKC,UACRR,EACF,EAAKO,KAAKC,QAAQC,eAAeT,GAEjC,EAAKO,KAAKC,QAAQE,mB,EAM1BC,SAAW,WACT,EAAKJ,KAAKC,QAAQI,iBAAiBC,MAAK,SAAAC,GACtC,EAAKV,SAAS,CACZN,SAAS,IAEX,IAAIiB,EAAO,EAAKlB,MAAMG,SACtBe,EAAOV,OAAOC,OAAOS,EAAMD,GAC3BZ,QAAQC,IAAIY,GACZ,EAAKC,MAAMC,cACVC,OAAM,gB,EAEXC,aAAe,SAACC,GACd,EAAKhB,SAAS,CACZN,SAAS,K,uDAGF,IAAD,EACmCuB,KAAKxB,MAAxCC,EADA,EACAA,QAASC,EADT,EACSA,YAAaC,EADtB,EACsBA,SAC9B,OACE,uBAAOF,QAASA,EACdwB,MAAOvB,EAAc,2BAAS,2BAC9BwB,UAAQ,EACRC,KAAMH,KAAKV,SACXc,SAAUJ,KAAKF,aACfO,OAAQ,eACRC,WAAY,gBAEZ,uCAAUnC,EAAV,CACEoC,IAAI,UACJC,cAAe7B,IACf,kBAACT,EAAD,CACEuC,MAAM,qBACNC,KAAK,OACLC,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,0CAEnC,6BAEF,kBAAC3C,EAAD,CACEuC,MAAM,eACNC,KAAK,MACLC,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,oCAEnC,mC,GApEUC,IAAMC,WA4EbxC","file":"static/js/13.2eae85d2.chunk.js","sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Form, Input, Modal } from 'antd'\r\nconst Item = Form.Item\r\nconst layout = {\r\n  labelCol: { span: 4 },\r\n  wrapperCol: { span: 20 },\r\n};\r\n\r\nclass AddForm extends React.Component {\r\n  static propTypes = {\r\n    loadMore: PropTypes.func.isRequired\r\n  }\r\n  state = {\r\n    visible: false,\r\n    addOpration: true,\r\n    userInfo: {}\r\n  }\r\n  loadInfo = (addOpration, userInfo) => {\r\n    console.log(this)\r\n    this.setState({\r\n      visible: true,\r\n      addOpration,\r\n      userInfo: Object.assign({}, userInfo)\r\n    }, () => {\r\n      if (this.refs.formRef) {\r\n        if (userInfo) {\r\n          this.refs.formRef.setFieldsValue(userInfo)\r\n        } else {\r\n          this.refs.formRef.resetFields()\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  handleOk = () => {\r\n    this.refs.formRef.validateFields().then(values => {\r\n      this.setState({\r\n        visible: false\r\n      })\r\n      let data = this.state.userInfo\r\n      data = Object.assign(data, values)\r\n      console.log(data)\r\n      this.props.loadMore()\r\n    }).catch(() => { })\r\n  }\r\n  handleCancel = (e) => {\r\n    this.setState({\r\n      visible: false\r\n    })\r\n  }\r\n  render () {\r\n    const { visible, addOpration, userInfo } = this.state\r\n    return (\r\n      <Modal visible={visible}\r\n        title={addOpration ? '添加用户' : '编辑用户'}\r\n        centered\r\n        onOk={this.handleOk}\r\n        onCancel={this.handleCancel}\r\n        okText={'确定'}\r\n        cancelText={'取消'}\r\n      >\r\n        <Form {...layout}\r\n          ref=\"formRef\"\r\n          initialValues={userInfo}>\r\n          <Item\r\n            label=\"用户名\"\r\n            name=\"name\"\r\n            rules={[{ required: true, message: '请输入用户名' }]}\r\n          >\r\n            <Input />\r\n          </Item>\r\n          <Item\r\n            label=\"年龄\"\r\n            name=\"age\"\r\n            rules={[{ required: true, message: '请输入年龄' }]}\r\n          >\r\n            <Input />\r\n          </Item>\r\n        </Form>\r\n      </Modal>\r\n\r\n    )\r\n  }\r\n}\r\nexport default AddForm"],"sourceRoot":""}