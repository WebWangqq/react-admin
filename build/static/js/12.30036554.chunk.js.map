{"version":3,"sources":["api/news.js","pages/news/news.jsx"],"names":["getJokes","data","get","News","state","loading","tableData","initColumns","columns","title","dataIndex","key","align","render","text","record","index","size","type","onClick","handleDetail","sid","loadMore","a","page","count","res","setState","result","props","history","push","this","rowKey","dataSource","pagination","React","Component"],"mappings":"sRAIaA,EAAW,SAACC,GAAD,OAAUC,YAAI,WAAYD,ICD5CE,E,4MACJC,MAAQ,CACNC,SAAS,EACTC,UAAW,I,EAEbC,YAAc,WACZ,EAAKC,QAAU,CACb,CACEC,MAAO,eACPC,UAAW,OACXC,IAAK,QAEP,CACEF,MAAO,eACPE,IAAK,SACLC,MAAO,SACPC,OAAQ,SAACC,EAAMC,EAAQC,GAAf,OACN,uBAAOC,KAAK,UACV,uBAAQC,KAAK,OAAOC,QAAS,kBAAM,EAAKC,aAAaL,EAAOM,OAA5D,qB,EAUVC,S,sBAAW,8BAAAC,EAAA,6DACLtB,EAAO,CAAEuB,KAAM,EAAGC,MAAO,GAAIP,KAAM,SAD9B,SAEOlB,EAASC,GAFhB,OAELyB,EAFK,OAIT,EAAKC,SAAS,CACZtB,SAAS,EACTC,UAAWoB,EAAIE,SANR,2C,EAYXR,aAAe,SAACC,GAEd,EAAKQ,MAAMC,QAAQC,KAAK,gBAAkBV,I,0EAhB1CW,KAAKzB,gB,0CAYLyB,KAAKV,a,+BAMG,MAEuBU,KAAK5B,MAA5BC,EAFA,EAEAA,QAASC,EAFT,EAESA,UACjB,OACE,2BACE,uBAAO2B,OAAO,MAAM5B,QAASA,EAASG,QAASwB,KAAKxB,QAAS0B,WAAY5B,EAAW6B,YAAY,S,GAjDrFC,IAAMC,WAuDVlC","file":"static/js/12.30036554.chunk.js","sourcesContent":["import { get, post } from './axios'\r\n\r\nexport const getNews = (data) => post('/getWangYiNews', data)\r\n\r\nexport const getJokes = (data) => get('/getJoke', data)\r\nexport const getJokeDetail = (data) => get('/getSingleJoke', data)","import React from 'react'\r\nimport { Card, Table, Space, Button } from 'antd';\r\nimport { getJokes } from '../../api/news'\r\nclass News extends React.Component {\r\n  state = {\r\n    loading: true,\r\n    tableData: []\r\n  }\r\n  initColumns = () => {\r\n    this.columns = [\r\n      {\r\n        title: '标题',\r\n        dataIndex: 'text',\r\n        key: 'text'\r\n      },\r\n      {\r\n        title: '操作',\r\n        key: 'action',\r\n        align: 'center',\r\n        render: (text, record, index) => (\r\n          <Space size=\"middle\">\r\n            <Button type=\"link\" onClick={() => this.handleDetail(record.sid)}>详情</Button>\r\n          </Space>\r\n\r\n        )\r\n      }\r\n    ]\r\n  }\r\n  UNSAFE_componentWillMount () {\r\n    this.initColumns()\r\n  }\r\n  loadMore = async () => {\r\n    var data = { page: 1, count: 10, type: 'image' }\r\n    let res = await getJokes(data)\r\n    // console.log(res)\r\n    this.setState({\r\n      loading: false,\r\n      tableData: res.result\r\n    })\r\n  }\r\n  componentDidMount () {\r\n    this.loadMore()\r\n  }\r\n  handleDetail = (sid) => {\r\n    // console.log(sid)\r\n    this.props.history.push('/news/detail/' + sid)\r\n  }\r\n  render () {\r\n    // console.log(this.props)\r\n    const { loading, tableData } = this.state\r\n    return (\r\n      <Card>\r\n        <Table rowKey='sid' loading={loading} columns={this.columns} dataSource={tableData} pagination={false}></Table>\r\n\r\n      </Card>\r\n    )\r\n  }\r\n}\r\nexport default News"],"sourceRoot":""}